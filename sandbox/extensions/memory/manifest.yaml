id: memory
name: Memory v2
version: "2.0.0"

entrypoint: main:MemoryExtension

description: |
  Graph-based cognitive memory. Stores episodes, facts, procedures, opinions
  as nodes with typed relationships (temporal, causal, entity, provenance).
  Intent-aware hybrid retrieval (FTS5 + vector + graph BFS + RRF).
  LLM-powered write path for consolidation and entity resolution.

depends_on:
  - embedding

config:
  embedding_dimensions: 256
  decay_threshold: 0.05
  decay_rate_default: 0.1
  entity_enrichment_min_mentions: 3
  causal_inference_batch_size: 50
  consolidation_episodes_per_chunk: 30
  conflict_min_confidence: 0.8
  context_token_budget: 2000
  rrf_k: 60
  rrf_weight_vector: 1.0
  rrf_weight_fts: 1.0
  rrf_weight_graph: 1.0
  intent_similarity_threshold: 0.45

agent_config:
  memory_agent:
    model: gpt-5-mini

schedules:
  - name: nightly_maintenance
    cron: "0 3 * * *"
    task: run_nightly_maintenance
    description: "Consolidate pending sessions, apply decay, enrich entities"

enabled: true
