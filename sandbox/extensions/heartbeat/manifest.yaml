id: heartbeat
name: Heartbeat
version: "3.0.0"

entrypoint: main:HeartbeatExtension

description: |
  Periodic scout: checks memory and active tasks, creates background tasks via
  TaskEngine when work is detected. Uses lightweight model for cost efficiency.

depends_on:
  - memory
  - kv
  - task_engine

agent:
  model: gpt-5-mini
  uses_tools:
    - memory
    - kv
    - task_engine

config:
  prompt: |
    Review the memory context above and check active tasks.
    Are there any pending user requests, unfinished tasks,
    stalled background work, reminders, or follow-ups
    that need attention right now?

schedules:
  - name: agent_loop
    cron: "*/10 * * * *"
    task: emit_heartbeat
    description: "Wake Scout for proactive background check every 2 minutes"

enabled: true
